/*! For license information please see main.js.LICENSE.txt */
var GeoserviceFactory;!function(){var e={660:function(e,t,r){var n;!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:o=i(n.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,u=!i&&!s,a={create:i?function(){return L(Object.create(null))}:s?function(){return L({__proto__:null})}:function(){return L({})},has:u?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:u?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}():Map,p=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,h=new(l||"function"!=typeof WeakMap?function(){var e=a.create(),r=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&a.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?a.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+s()}while(a.has(e,t));return e[t]=!0,t}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:a.create()})}return e[r]}function i(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<16;++n){var o=t[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function y(e,t,r){var n=h.get(e);if(x(n)){if(!r)return;n=new f,h.set(e,n)}var o=n.get(t);if(x(o)){if(!r)return;o=new f,n.set(t,o)}return o}function d(e,t,r){if(v(e,t,r))return!0;var n=C(t);return!k(n)&&d(e,n,r)}function v(e,t,r){var n=y(t,r,!1);return!x(n)&&!!n.has(e)}function g(e,t,r){if(v(e,t,r))return w(e,t,r);var n=C(t);return k(n)?void 0:g(e,n,r)}function w(e,t,r){var n=y(t,r,!1);if(!x(n))return n.get(e)}function m(e,t,r,n){y(r,n,!0).set(e,t)}function _(e,t){var r=b(e,t),n=C(e);if(null===n)return r;var o=_(n,t);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new p,s=[],u=0,a=r;u<a.length;u++){var c=a[u];i.has(c)||(i.add(c),s.push(c))}for(var l=0,f=o;l<f.length;l++)c=f[l],i.has(c)||(i.add(c),s.push(c));return s}function b(e,t){var r=[],n=y(e,t,!1);if(x(n))return r;for(var i=function(e){var t=A(e,o);if(!I(t))throw new TypeError;var r=t.call(e);if(!R(r))throw new TypeError;return r}(n.keys()),s=0;;){var u=O(i);if(!u)return r.length=s,r;var a=u.value;try{r[s]=a}catch(e){try{j(i)}finally{throw e}}s++}}function P(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function x(e){return void 0===e}function k(e){return null===e}function R(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",o=A(e,n);if(void 0!==o){var i=o.call(e,r);if(R(i))throw new TypeError;return i}return function(e,t){if("string"===t){var r=e.toString;if(I(r)&&!R(o=r.call(e)))return o;if(I(n=e.valueOf)&&!R(o=n.call(e)))return o}else{var n;if(I(n=e.valueOf)&&!R(o=n.call(e)))return o;var o,i=e.toString;if(I(i)&&!R(o=i.call(e)))return o}throw new TypeError}(e,"default"===r?"number":r)}function S(e){var t=E(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function M(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function I(e){return"function"==typeof e}function T(e){return"function"==typeof e}function A(e,t){var r=e[t];if(null!=r){if(!I(r))throw new TypeError;return r}}function O(e){var t=e.next();return!t.done&&t}function j(e){var t=e.return;t&&t.call(e)}function C(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o||o===e?t:o}function L(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(x(r)){if(!M(e))throw new TypeError;if(!T(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!x(n)&&!k(n)){if(!T(n))throw new TypeError;t=n}}return t}(e,t)}if(!M(e))throw new TypeError;if(!R(t))throw new TypeError;if(!R(n)&&!x(n)&&!k(n))throw new TypeError;return k(n)&&(n=void 0),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!x(i)&&!k(i)){if(!R(i))throw new TypeError;n=i}}return n}(e,t,r=S(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!R(r))throw new TypeError;if(!x(n)&&!function(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;m(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!R(r))throw new TypeError;return x(n)||(n=S(n)),m(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return x(r)||(r=S(r)),d(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return x(r)||(r=S(r)),v(e,t,r)})),e("getMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return x(r)||(r=S(r)),g(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!R(t))throw new TypeError;return x(r)||(r=S(r)),w(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!R(e))throw new TypeError;return x(t)||(t=S(t)),_(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!R(e))throw new TypeError;return x(t)||(t=S(t)),b(e,t)})),e("deleteMetadata",(function(e,t,r){if(!R(t))throw new TypeError;x(r)||(r=S(r));var n=y(t,r,!1);if(x(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var o=h.get(t);return o.delete(r),o.size>0||h.delete(t),!0}))}(o)}()}(n||(n={}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";var e;r.r(n),r.d(n,{Contour:function(){return Z},SayHi:function(){return ee}}),r(660),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(e||(e={}));var t=e,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function c(e){return!!e.useClass}function l(e){return!!e.useFactory}var f=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,n=!1;return new Proxy({},this.createHandler((function(){return n||(t=e(r.wrap()),n=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t[0]=e();var o=Reflect[r];return o.apply(void 0,a(t))}})),t},e}();function p(e){return"string"==typeof e||"symbol"==typeof e}function h(e){return"object"==typeof e&&"token"in e&&"transform"in e}function y(e){return!!e.useToken}function d(e){return null!=e.useValue}var v=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v),w=function(){this.scopedResolutions=new Map};var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(v),b=function(){this.preResolution=new m,this.postResolution=new _},P=new Map,x=new(function(){function e(e){this.parent=e,this._registry=new g,this.interceptors=new b}return e.prototype.register=function(e,r,n){var o;if(void 0===n&&(n={lifecycle:t.Transient}),o=function(e){return c(e)||d(e)||y(e)||l(e)}(r)?r:{useClass:r},y(o))for(var i=[e],s=o;null!=s;){var u=s.useToken;if(i.includes(u))throw new Error("Token registration cycle detected! "+a(i,[u]).join(" -> "));i.push(u);var f=this._registry.get(u);s=f&&y(f.provider)?f.provider:null}if((n.lifecycle===t.Singleton||n.lifecycle==t.ContainerScoped||n.lifecycle==t.ResolutionScoped)&&(d(o)||l(o)))throw new Error('Cannot use lifecycle "'+t[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:o,options:n}),this},e.prototype.registerType=function(e,t){return p(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,r){if(p(e)){if(p(r))return this.register(e,{useToken:r},{lifecycle:t.Singleton});if(r)return this.register(e,{useClass:r},{lifecycle:t.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return r&&!p(r)&&(n=r),this.register(e,{useClass:n},{lifecycle:t.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new w);var r=this.getRegistration(e);if(!r&&p(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var n=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if(function(e){return"function"==typeof e||e instanceof f}(e))return n=this.construct(e,t),this.executePostResolutionInterceptor(e,n,"Single"),n;throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,n;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=s(this.interceptors.preResolution.getAll(e)),u=i.next();!u.done;u=i.next()){var a=u.value;"Once"!=a.options.frequency&&o.push(a),a.callback(e,t)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var n,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var u=s(this.interceptors.postResolution.getAll(e)),a=u.next();!a.done;a=u.next()){var c=a.value;"Once"!=c.options.frequency&&i.push(c),c.callback(e,t,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(e,i)}},e.prototype.resolveRegistration=function(e,r){if(e.options.lifecycle===t.ResolutionScoped&&r.scopedResolutions.has(e))return r.scopedResolutions.get(e);var n,o=e.options.lifecycle===t.Singleton,i=e.options.lifecycle===t.ContainerScoped,s=o||i;return n=d(e.provider)?e.provider.useValue:y(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,r)):this.resolve(e.provider.useToken,r):c(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,r)):this.construct(e.provider.useClass,r):l(e.provider)?e.provider.useFactory(this):this.construct(e.provider,r),e.options.lifecycle===t.ResolutionScoped&&r.scopedResolutions.set(e,n),n},e.prototype.resolveAll=function(e,t){var r=this;void 0===t&&(t=new w);var n=this.getAllRegistrations(e);if(!n&&p(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),n){var o=n.map((function(e){return r.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var i=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,i,"All"),i},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var r=s(this._registry.entries()),n=r.next();!n.done;n=r.next()){var o=u(n.value,2),i=o[0],a=o[1];this._registry.setAll(i,a.filter((function(e){return!d(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var r,n,o=new e(this);try{for(var i=s(this._registry.entries()),a=i.next();!a.done;a=i.next()){var c=u(a.value,2),l=c[0],f=c[1];f.some((function(e){return e.options.lifecycle===t.ContainerScoped}))&&o._registry.setAll(l,f.map((function(e){return e.options.lifecycle===t.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof f)return e.createProxy((function(e){return r.resolve(e,t)}));var n=P.get(e);if(!n||0===n.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=n.map(this.resolveParams(t,e));return new(e.bind.apply(e,a([void 0],o)))},e.prototype.resolveParams=function(e,t){var r=this;return function(n,o){var i,s,c,l;try{return"object"==typeof(l=n)&&"token"in l&&"multiple"in l?h(n)?n.multiple?(i=r.resolve(n.transform)).transform.apply(i,a([r.resolveAll(n.token)],n.transformArgs)):(s=r.resolve(n.transform)).transform.apply(s,a([r.resolve(n.token,e)],n.transformArgs)):n.multiple?r.resolveAll(n.token):r.resolve(n.token,e):h(n)?(c=r.resolve(n.transform,e)).transform.apply(c,a([r.resolve(n.token,e)],n.transformArgs)):r.resolve(n,e)}catch(e){throw new Error(function(e,t,r){var n,o,i,s,c=u(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return n="Cannot inject the dependency "+(s=t,(null===(i=void 0===c?null:c)?"at position #"+s:'"'+i.split(",")[s].trim()+'" at position #'+s)+' of "')+e.name+'" constructor. Reason:',void 0===o&&(o="    "),a([n],r.message.split("\n").map((function(e){return o+e}))).join("\n")}(t,o,e))}}},e}()),k="injectionTokens";if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");class R{constructor(e){this._value=e,this.ensureIsValidValue()}get value(){return this._value}ensureIsValidValue(){if(isNaN(this._value))throw RangeError("The value must be a number")}}class E extends R{constructor(e){super(e),this.ensureIsValidEquidistance()}ensureIsValidEquidistance(){if(this.value<10||this.value>1e4)throw RangeError("The equidistance must be between 10 and 10000")}}class S extends R{constructor(e){super(e),this.ensureIsValidLatitude()}ensureIsValidLatitude(){if(this.value<-84||this.value>-20)throw RangeError("The latitud must be between -84 and -20")}}class M extends R{constructor(e){super(e),this.ensureIsValidLongitude()}ensureIsValidLongitude(){if(this.value<-74||this.value>-52)throw RangeError("The latitud must be between -74 and -52")}}class I extends class{constructor(e){this._value=e,this.ensureIsValidValue()}get value(){return this._value}ensureIsValidValue(){if(""===this._value)throw RangeError("The value cannot be empty")}}{constructor(e){super(e)}}function T(e,t,r){void 0===r&&(r={});for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}return function(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}({type:"Polygon",coordinates:e},t,r)}function A(e,t,r){if(null!==e)for(var n,o,i,s,u,a,c,l,f=0,p=0,h=e.type,y="FeatureCollection"===h,d="Feature"===h,v=y?e.features.length:1,g=0;g<v;g++){u=(l=!!(c=y?e.features[g].geometry:d?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var w=0;w<u;w++){var m=0,_=0;if(null!==(s=l?c.geometries[w]:c)){a=s.coordinates;var b=s.type;switch(f=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===t(a,p,g,m,_))return!1;p++,m++;break;case"LineString":case"MultiPoint":for(n=0;n<a.length;n++){if(!1===t(a[n],p,g,m,_))return!1;p++,"MultiPoint"===b&&m++}"LineString"===b&&m++;break;case"Polygon":case"MultiLineString":for(n=0;n<a.length;n++){for(o=0;o<a[n].length-f;o++){if(!1===t(a[n][o],p,g,m,_))return!1;p++}"MultiLineString"===b&&m++,"Polygon"===b&&_++}"Polygon"===b&&m++;break;case"MultiPolygon":for(n=0;n<a.length;n++){for(_=0,o=0;o<a[n].length;o++){for(i=0;i<a[n][o].length-f;i++){if(!1===t(a[n][o][i],p,g,m,_))return!1;p++}_++}m++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===A(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}var O=6378137;function j(e){return function(e,t,r){var n=0;return function(e,t){var r,n,o,i,s,u,a,c,l,f,p=0,h="FeatureCollection"===e.type,y="Feature"===e.type,d=h?e.features.length:1;for(r=0;r<d;r++){for(u=h?e.features[r].geometry:y?e.geometry:e,c=h?e.features[r].properties:y?e.properties:{},l=h?e.features[r].bbox:y?e.bbox:void 0,f=h?e.features[r].id:y?e.id:void 0,s=(a=!!u&&"GeometryCollection"===u.type)?u.geometries.length:1,o=0;o<s;o++)if(null!==(i=a?u.geometries[o]:u))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,p,c,l,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],p,c,l,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,c,l,f))return!1;p++}}(e,(function(e,t,r,o,i){n=n+function(e){var t,r=0;switch(e.type){case"Polygon":return C(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=C(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)})),n}(e)}function C(e){var t=0;if(e&&e.length>0){t+=Math.abs(L(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(L(e[r]))}return t}function L(e){var t,r,n,o,i,s,u=0,a=e.length;if(a>2){for(s=0;s<a;s++)s===a-2?(n=a-2,o=a-1,i=0):s===a-1?(n=a-1,o=0,i=1):(n=s,o=s+1,i=s+2),t=e[n],r=e[o],u+=(F(e[i][0])-F(t[0]))*Math.sin(F(r[1]));u=u*O*O/2}return u}function F(e){return e*Math.PI/180}function D(e){var t=[1/0,1/0,-1/0,-1/0];return A(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}D.default=D;var V=D;function q(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function G(e){return"Feature"===e.type?e.geometry:e}function B(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var n=q(e),o=G(t),i=o.type,s=t.bbox,u=o.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(n,s))return!1;"Polygon"===i&&(u=[u]);for(var a=!1,c=0;c<u.length&&!a;c++)if(U(n,u[c][0],r.ignoreBoundary)){for(var l=!1,f=1;f<u[c].length&&!l;)U(n,u[c][f],!r.ignoreBoundary)&&(l=!0),f++;l||(a=!0)}return a}function U(e,t,r){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var s=t[o][0],u=t[o][1],a=t[i][0],c=t[i][1];if(e[1]*(s-a)+u*(a-e[0])+c*(e[0]-s)==0&&(s-e[0])*(a-e[0])<=0&&(u-e[1])*(c-e[1])<=0)return!r;u>e[1]!=c>e[1]&&e[0]<(a-s)*(e[1]-u)/(c-u)+s&&(n=!n)}return n}function K(e,t,r,n,o){var i=r[0],s=r[1],u=e[0],a=e[1],c=t[0],l=t[1],f=c-u,p=l-a,h=(r[0]-u)*p-(r[1]-a)*f;if(null!==o){if(Math.abs(h)>o)return!1}else if(0!==h)return!1;return n?"start"===n?Math.abs(f)>=Math.abs(p)?f>0?u<i&&i<=c:c<=i&&i<u:p>0?a<s&&s<=l:l<=s&&s<a:"end"===n?Math.abs(f)>=Math.abs(p)?f>0?u<=i&&i<c:c<i&&i<=u:p>0?a<=s&&s<l:l<s&&s<=a:"both"===n&&(Math.abs(f)>=Math.abs(p)?f>0?u<i&&i<c:c<i&&i<u:p>0?a<s&&s<l:l<s&&s<a):Math.abs(f)>=Math.abs(p)?f>0?u<=i&&i<=c:c<=i&&i<=u:p>0?a<=s&&s<=l:l<=s&&s<=a}var $=function(e,t,r){void 0===r&&(r={});for(var n=q(e),o=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(t),i=0;i<o.length-1;i++){var s=!1;if(r.ignoreEndVertices&&(0===i&&(s="start"),i===o.length-2&&(s="end"),0===i&&i+1===o.length-1&&(s="both")),K(o[i],o[i+1],n,s,void 0===r.epsilon?null:r.epsilon))return!0}return!1};function z(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function N(e,t){return e[0]===t[0]&&e[1]===t[1]}let W=class{constructor(e){this.postman=e}getFields(){return JSON.parse('[\n        {\n          "name": "Capa",\n          "element": "select",\n          "references": "drawedLayers",\n          "allowedTypes": ["rectangle"],\n          "points": ["ne", "sw"]\n        },\n        {\n          "name": "Equidistancia",\n          "element": "input",\n          "type": "number",\n          "min": 10,\n          "max": 10000\n        }\n      ]')}execute(e,t,r,n,o,i){return s=this,u=void 0,c=function*(){this.ensureInputDataIsInTolerance(e,t,r,n,o);const s=`<?xml version="1.0" encoding="UTF-8"?><wps:Execute version="1.0.0" service="WPS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/wps/1.0.0" xmlns:wfs="http://www.opengis.net/wfs" xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wcs="http://www.opengis.net/wcs/1.1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">\n  <ows:Identifier>gs:Contour</ows:Identifier>\n  <wps:DataInputs>\n    <wps:Input>\n      <ows:Identifier>data</ows:Identifier>\n      <wps:Reference mimeType="image/tiff" xlink:href="http://geoserver/wcs" method="POST">\n        <wps:Body>\n          <wcs:GetCoverage service="WCS" version="1.1.1">\n            <ows:Identifier>ign:alos_unificado</ows:Identifier>\n            <wcs:DomainSubset>\n              <ows:BoundingBox crs="http://www.opengis.net/gml/srs/epsg.xml#4326">\n                <ows:LowerCorner>${e.value} ${t.value}</ows:LowerCorner>\n                <ows:UpperCorner>${r.value} ${n.value}</ows:UpperCorner>\n              </ows:BoundingBox>\n            </wcs:DomainSubset>\n            <wcs:Output format="image/tiff"/>\n          </wcs:GetCoverage>\n        </wps:Body>\n      </wps:Reference>\n    </wps:Input>\n    <wps:Input>\n      <ows:Identifier>band</ows:Identifier>\n      <wps:Data>\n        <wps:LiteralData>0</wps:LiteralData>\n      </wps:Data>\n    </wps:Input>\n    <wps:Input>\n      <ows:Identifier>simplify</ows:Identifier>\n      <wps:Data>\n        <wps:LiteralData>true</wps:LiteralData>\n      </wps:Data>\n    </wps:Input>\n    <wps:Input>\n      <ows:Identifier>smooth</ows:Identifier>\n      <wps:Data>\n        <wps:LiteralData>false</wps:LiteralData>\n      </wps:Data>\n    </wps:Input>\n    <wps:Input>\n      <ows:Identifier>interval</ows:Identifier>\n      <wps:Data>\n        <wps:LiteralData>${o.value}</wps:LiteralData>\n      </wps:Data>\n    </wps:Input>\n  </wps:DataInputs>\n  <wps:ResponseForm>\n    <wps:RawDataOutput mimeType="application/json">\n      <ows:Identifier>result</ows:Identifier>\n    </wps:RawDataOutput>\n  </wps:ResponseForm>\n</wps:Execute>`;return yield this.postman.post(`${i.value}&request=Execute&identifier=gs:Contour`,s)},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}o((c=c.apply(s,u||[])).next())}));var s,u,a,c}pointsToPolygon(e,t,r,n){return T([[[r.value,n.value],[r.value,t.value],[e.value,t.value],[e.value,n.value],[r.value,n.value]]])}ensureInputDataIsInTolerance(e,t,r,n,o){const i=this.pointsToPolygon(e,t,r,n);if(j(i)>1e8)throw RangeError("The area requested must be less than 100km2");if(1==function(e,t){var r=G(e),n=G(t),o=r.type,i=n.type,s=r.coordinates,u=n.coordinates;switch(o){case"Point":switch(i){case"Point":return N(s,u);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return function(e,t){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(N(e.coordinates[r],t.coordinates)){n=!0;break}return n}(r,n);case"MultiPoint":return function(e,t){for(var r=0,n=t.coordinates;r<n.length;r++){for(var o=n[r],i=!1,s=0,u=e.coordinates;s<u.length;s++)if(N(o,u[s])){i=!0;break}if(!i)return!1}return!0}(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return $(n,r,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var r=!1,n=0,o=t.coordinates;n<o.length;n++){var i=o[n];if($({type:"Point",coordinates:i},e,{ignoreEndVertices:!0})&&(r=!0),!$({type:"Point",coordinates:i},e,{ignoreEndVertices:!1}))return!1}return r}(r,n);case"MultiPoint":return function(e,t){for(var r=!1,n=0,o=t.coordinates;n<o.length;n++){var i=o[n];if($(i,e,{ignoreEndVertices:!0})&&(r=!0),!$(i,e))return!1}return!!r}(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return B(n,r,{ignoreBoundary:!0});case"LineString":return function(e,t){var r,n,o=!1,i=0;if(!z(V(e),V(t)))return!1;for(;i<t.coordinates.length-1;i++)if(B({type:"Point",coordinates:(r=t.coordinates[i],n=t.coordinates[i+1],[(r[0]+n[0])/2,(r[1]+n[1])/2])},e,{ignoreBoundary:!0})){o=!0;break}return o}(r,n);case"Polygon":return function(e,t){if("Feature"===e.type&&null===e.geometry)return!1;if("Feature"===t.type&&null===t.geometry)return!1;if(!z(V(e),V(t)))return!1;for(var r=0,n=G(t).coordinates;r<n.length;r++)for(var o=0,i=n[r];o<i.length;o++)if(!B(i[o],e))return!1;return!0}(r,n);case"MultiPoint":return function(e,t){for(var r=0,n=t.coordinates;r<n.length;r++)if(!B(n[r],e,{ignoreBoundary:!0}))return!1;return!0}(r,n);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}(T([[[-73.90444332754741,-51.88846973694263],[-70.88203831519283,-20.86255705909867],[-62.863412772211284,-21.417692673612777],[-64.34377441091557,-28.69613739724218],[-62.67836756737324,-28.881182602080212],[-66.50263513402598,-52.690332291240786],[-73.90444332754741,-51.88846973694263]]]),i)&&o.value<100)throw RangeError("Equidistance must be grather than 100");if(o.value<10)throw RangeError("Equidistance must be grather than 10")}};var H,J,X,Y;W=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}([function(e){P.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(k,e)||{};return Object.keys(r).forEach((function(e){t[+e]=r[e]})),t}(e))},(H=0,X="Postman",Y=X,J=function(e,t,r){var n=Reflect.getOwnMetadata(k,e)||{};n[r]=Y,Reflect.defineMetadata(k,n,e)},function(e,t){J(e,t,H)})],W);var Q=W;x.register("Postman",{useClass:class{post(e,t){return r=this,n=void 0,i=function*(){return(yield fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain"},redirect:"follow",referrerPolicy:"no-referrer",body:t})).json()},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{a(i.next(e))}catch(e){t(e)}}function u(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,u)}a((i=i.apply(r,n||[])).next())}));var r,n,o,i}}});class Z{constructor(e,t){this.host=e,this.service=t||x.resolve(Q)}getFields(){return this.service.getFields()}execute(e,t,r,n,o){return i=this,s=void 0,a=function*(){return this.service.execute(new M(e),new S(t),new M(r),new S(n),new E(o),new I(this.host))},new((u=void 0)||(u=Promise))((function(e,t){function r(e){try{o(a.next(e))}catch(e){t(e)}}function n(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(r,n)}o((a=a.apply(i,s||[])).next())}));var i,s,u,a}}class ee{salute(){return"Hi!"}}}(),GeoserviceFactory=n}();
//# sourceMappingURL=main.js.map